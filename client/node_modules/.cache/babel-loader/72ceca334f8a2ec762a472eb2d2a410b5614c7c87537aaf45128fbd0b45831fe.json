{"ast":null,"code":"// // client/src/components/RoomList.js\n// import React, { useState, useEffect } from 'react';\n// import axios from 'axios';\n// import { Link } from 'react-router-dom';\n// import '../App.css'; \n\n// const RoomList = () => {\n//   const [rooms, setRooms] = useState([]);\n//   const [reviews, setReviews] = useState({});\n\n//   useEffect(() => {\n//     const fetchRoomsAndReviews = async () => {\n//       try {\n//         const roomsResponse = await axios.get('http://localhost:5000/api/rooms');\n//         setRooms(roomsResponse.data);\n\n//         const reviewsData = {};\n//         for (const room of roomsResponse.data) {\n//           const reviewsResponse = await axios.get(`http://localhost:5000/api/reviews/${room._id}`);\n//           reviewsData[room._id] = reviewsResponse.data;\n//         }\n//         setReviews(reviewsData);\n//       } catch (err) {\n//         console.error('Error fetching data:', err);\n//       }\n//     };\n//     fetchRoomsAndReviews();\n//   }, []);\n\n//   const getAverageRating = (roomId) => {\n//     const roomReviews = reviews[roomId] || [];\n//     if (roomReviews.length === 0) return 'No ratings yet';\n//     const totalRating = roomReviews.reduce((sum, review) => sum + review.rating, 0);\n//     const average = (totalRating / roomReviews.length).toFixed(1);\n//     return `${average} (${roomReviews.length} reviews)`;\n//   };\n\n//   return (\n//     <div className=\"room-list-container\">\n//       <h2 className=\"room-list-title\">Our Exclusive Rooms</h2>\n//       {rooms.length > 0 ? (\n//         <div className=\"room-grid\">\n//           {rooms.map(room => (\n//             <div key={room._id} className=\"room-card-detailed\">\n//               <img src={room.image} alt={room.title} className=\"room-image-detailed\" />\n//               <div className=\"room-content\">\n//                 <h4 className=\"room-title-detailed\">{room.title}</h4>\n//                 <p className=\"room-price-detailed\">BDT {room.price} / night</p>\n//                 <div className=\"rating-display\">\n//                   <span role=\"img\" aria-label=\"star\">⭐</span> {getAverageRating(room._id)}\n//                 </div>\n//                 <p className=\"room-description-detailed\">{room.description}</p>\n//                 <div className=\"room-specs\">\n//                   <span><i className=\"fas fa-bed\"></i> {room.beds} Beds</span>\n//                   <span><i className=\"fas fa-user\"></i> {room.guests} Guests</span>\n//                 </div>\n//                 <div className=\"room-amenities-detailed\">\n//                   {room.amenities.map(amenity => (\n//                     <span key={amenity} className=\"amenity-tag\">{amenity}</span>\n//                   ))}\n//                 </div>\n//                 <Link to={`/book/${room._id}`} className=\"btn-book-now\">Book Now</Link>\n\n//                 {/* Displaying Reviews */}\n//                 {reviews[room._id] && reviews[room._id].length > 0 && (\n//                   <div className=\"reviews-list-section\">\n//                     <h5>Customer Reviews:</h5>\n//                     {reviews[room._id].map(review => (\n//                       <div key={review._id} className=\"review-item-list\">\n//                         <p><strong>{review.userId.username}</strong> rated it {review.rating}/5</p>\n//                         <p>\"{review.comment}\"</p>\n//                       </div>\n//                     ))}\n//                   </div>\n//                 )}\n//               </div>\n//             </div>\n//           ))}\n//         </div>\n//       ) : (\n//         <p className=\"no-rooms-found-detailed\">No rooms available at the moment. Please check back later.</p>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default RoomList;","map":{"version":3,"names":[],"sources":["D:/CSE470 Project/StayHotel/client/src/components/RoomList.js"],"sourcesContent":["// // client/src/components/RoomList.js\r\n// import React, { useState, useEffect } from 'react';\r\n// import axios from 'axios';\r\n// import { Link } from 'react-router-dom';\r\n// import '../App.css'; \r\n\r\n// const RoomList = () => {\r\n//   const [rooms, setRooms] = useState([]);\r\n//   const [reviews, setReviews] = useState({});\r\n\r\n//   useEffect(() => {\r\n//     const fetchRoomsAndReviews = async () => {\r\n//       try {\r\n//         const roomsResponse = await axios.get('http://localhost:5000/api/rooms');\r\n//         setRooms(roomsResponse.data);\r\n\r\n//         const reviewsData = {};\r\n//         for (const room of roomsResponse.data) {\r\n//           const reviewsResponse = await axios.get(`http://localhost:5000/api/reviews/${room._id}`);\r\n//           reviewsData[room._id] = reviewsResponse.data;\r\n//         }\r\n//         setReviews(reviewsData);\r\n//       } catch (err) {\r\n//         console.error('Error fetching data:', err);\r\n//       }\r\n//     };\r\n//     fetchRoomsAndReviews();\r\n//   }, []);\r\n\r\n//   const getAverageRating = (roomId) => {\r\n//     const roomReviews = reviews[roomId] || [];\r\n//     if (roomReviews.length === 0) return 'No ratings yet';\r\n//     const totalRating = roomReviews.reduce((sum, review) => sum + review.rating, 0);\r\n//     const average = (totalRating / roomReviews.length).toFixed(1);\r\n//     return `${average} (${roomReviews.length} reviews)`;\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"room-list-container\">\r\n//       <h2 className=\"room-list-title\">Our Exclusive Rooms</h2>\r\n//       {rooms.length > 0 ? (\r\n//         <div className=\"room-grid\">\r\n//           {rooms.map(room => (\r\n//             <div key={room._id} className=\"room-card-detailed\">\r\n//               <img src={room.image} alt={room.title} className=\"room-image-detailed\" />\r\n//               <div className=\"room-content\">\r\n//                 <h4 className=\"room-title-detailed\">{room.title}</h4>\r\n//                 <p className=\"room-price-detailed\">BDT {room.price} / night</p>\r\n//                 <div className=\"rating-display\">\r\n//                   <span role=\"img\" aria-label=\"star\">⭐</span> {getAverageRating(room._id)}\r\n//                 </div>\r\n//                 <p className=\"room-description-detailed\">{room.description}</p>\r\n//                 <div className=\"room-specs\">\r\n//                   <span><i className=\"fas fa-bed\"></i> {room.beds} Beds</span>\r\n//                   <span><i className=\"fas fa-user\"></i> {room.guests} Guests</span>\r\n//                 </div>\r\n//                 <div className=\"room-amenities-detailed\">\r\n//                   {room.amenities.map(amenity => (\r\n//                     <span key={amenity} className=\"amenity-tag\">{amenity}</span>\r\n//                   ))}\r\n//                 </div>\r\n//                 <Link to={`/book/${room._id}`} className=\"btn-book-now\">Book Now</Link>\r\n                \r\n//                 {/* Displaying Reviews */}\r\n//                 {reviews[room._id] && reviews[room._id].length > 0 && (\r\n//                   <div className=\"reviews-list-section\">\r\n//                     <h5>Customer Reviews:</h5>\r\n//                     {reviews[room._id].map(review => (\r\n//                       <div key={review._id} className=\"review-item-list\">\r\n//                         <p><strong>{review.userId.username}</strong> rated it {review.rating}/5</p>\r\n//                         <p>\"{review.comment}\"</p>\r\n//                       </div>\r\n//                     ))}\r\n//                   </div>\r\n//                 )}\r\n//               </div>\r\n//             </div>\r\n//           ))}\r\n//         </div>\r\n//       ) : (\r\n//         <p className=\"no-rooms-found-detailed\">No rooms available at the moment. Please check back later.</p>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default RoomList;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
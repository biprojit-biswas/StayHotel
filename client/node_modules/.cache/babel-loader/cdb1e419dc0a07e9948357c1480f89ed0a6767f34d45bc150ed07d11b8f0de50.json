{"ast":null,"code":"// // // // client/src/components/Auth.js\n// // // import React, { useState } from 'react';\n// // // import axios from 'axios';\n// // // import { useNavigate } from 'react-router-dom';\n// // // import '../App.css';\n\n// // // const Auth = ({ setIsAuthenticated }) => {\n// // //   const [isLogin, setIsLogin] = useState(true);\n// // //   const [formData, setFormData] = useState({\n// // //     username: '',\n// // //     email: '',\n// // //     password: '',\n// // //   });\n// // //   const [popupMessage, setPopupMessage] = useState('');\n// // //   const [isPopupVisible, setIsPopupVisible] = useState(false);\n// // //   const navigate = useNavigate();\n\n// // //   const handleChange = (e) => {\n// // //     setFormData({ ...formData, [e.target.name]: e.target.value });\n// // //   };\n\n// // //   const showPopup = (message) => {\n// // //     setPopupMessage(message);\n// // //     setIsPopupVisible(true);\n// // //     setTimeout(() => {\n// // //       setIsPopupVisible(false);\n// // //     }, 3000); // Popup disappears after 3 seconds\n// // //   };\n\n// // //   const handleSubmit = async (e) => {\n// // //     e.preventDefault();\n// // //     const url = isLogin ? 'http://localhost:5000/api/auth/login' : 'http://localhost:5000/api/auth/register';\n// // //     try {\n// // //       const response = await axios.post(url, formData);\n// // //       console.log('Success:', response.data);\n// // //       if (isLogin) {\n// // //         localStorage.setItem('token', response.data.token);\n// // //         setIsAuthenticated(true);\n// // //         showPopup('Login successful!');\n// // //         setTimeout(() => {\n// // //           navigate('/home');\n// // //         }, 1000); // Redirect after a short delay\n// // //       } else {\n// // //         showPopup('Registration successful! Please log in.');\n// // //         setIsLogin(true);\n// // //       }\n// // //     } catch (err) {\n// // //       console.error('Error:', err);\n// // //       // Check if the response object exists before trying to access its data\n// // //       if (err.response) {\n// // //         showPopup('Error: ' + (err.response.data.error || err.response.data.msg));\n// // //       } else {\n// // //         // If there is no response, it means the server is likely down\n// // //         showPopup('Error: Could not connect to the server.');\n// // //       }\n// // //     }\n// // //   };\n\n// // //   return (\n// // //     <div className=\"container card\">\n// // //       <h2 className=\"text-center\">{isLogin ? 'Login' : 'Register'}</h2>\n// // //       <form onSubmit={handleSubmit}>\n// // //         {!isLogin && (\n// // //           <div className=\"form-group\">\n// // //             <label>Username</label>\n// // //             <input type=\"text\" name=\"username\" value={formData.username} onChange={handleChange} required />\n// // //           </div>\n// // //         )}\n// // //         <div className=\"form-group\">\n// // //           <label>Email</label>\n// // //           <input type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} required />\n// // //         </div>\n// // //         <div className=\"form-group\">\n// // //           <label>Password</label>\n// // //           <input type=\"password\" name=\"password\" value={formData.password} onChange={handleChange} required />\n// // //         </div>\n// // //         <button type=\"submit\" className=\"btn btn-primary\">\n// // //           {isLogin ? 'Login' : 'Register'}\n// // //         </button>\n// // //       </form>\n// // //       <button onClick={() => setIsLogin(!isLogin)} className=\"btn btn-link\">\n// // //         {isLogin ? 'Need to create an account? Register' : 'Already have an account? Login'}\n// // //       </button>\n// // //       {isPopupVisible && (\n// // //         <div className=\"popup-container\">\n// // //           <div className=\"popup-message\">{popupMessage}</div>\n// // //         </div>\n// // //       )}\n// // //     </div>\n// // //   );\n// // // };\n\n// // // export default Auth;\n// // // \n// // // // client/src/components/Auth.js\n// // // import React, { useState } from 'react';\n// // // import axios from 'axios';\n// // // import { useNavigate } from 'react-router-dom';\n// // // import '../App.css';\n\n// // // const Auth = ({ setIsAuthenticated }) => {\n// // //   const [isLogin, setIsLogin] = useState(true);\n// // //   const [formData, setFormData] = useState({\n// // //     username: '',\n// // //     email: '',\n// // //     password: '',\n// // //     role: 'customer', // Default role is 'customer'\n// // //   });\n// // //   const [popupMessage, setPopupMessage] = useState('');\n// // //   const [isPopupVisible, setIsPopupVisible] = useState(false);\n// // //   const navigate = useNavigate();\n\n// // //   const handleChange = (e) => {\n// // //     setFormData({ ...formData, [e.target.name]: e.target.value });\n// // //   };\n\n// // //   const showPopup = (message) => {\n// // //     setPopupMessage(message);\n// // //     setIsPopupVisible(true);\n// // //     setTimeout(() => {\n// // //       setIsPopupVisible(false);\n// // //     }, 3000); // Popup disappears after 3 seconds\n// // //   };\n\n// // //   const handleSubmit = async (e) => {\n// // //     e.preventDefault();\n// // //     const url = isLogin ? 'http://localhost:5000/api/auth/login' : 'http://localhost:5000/api/auth/register';\n// // //     try {\n// // //       const response = await axios.post(url, formData);\n// // //       console.log('Success:', response.data);\n// // //       if (isLogin) {\n// // //         localStorage.setItem('token', response.data.token);\n// // //         setIsAuthenticated(true);\n// // //         showPopup('Login successful!');\n// // //         setTimeout(() => {\n// // //           navigate('/home');\n// // //         }, 1000); // Redirect after a short delay\n// // //       } else {\n// // //         showPopup('Registration successful! Please log in.');\n// // //         setIsLogin(true);\n// // //       }\n// // //     } catch (err) {\n// // //       console.error('Error:', err);\n// // //       if (err.response) {\n// // //         showPopup('Error: ' + (err.response.data.error || err.response.data.msg));\n// // //       } else {\n// // //         showPopup('Error: Could not connect to the server.');\n// // //       }\n// // //     }\n// // //   };\n\n// // //   return (\n// // //     <div className=\"container card\">\n// // //       <h2 className=\"text-center\">{isLogin ? 'Login' : 'Register'}</h2>\n// // //       <form onSubmit={handleSubmit}>\n// // //         {!isLogin && (\n// // //           <>\n// // //             <div className=\"form-group\">\n// // //               <label>Username</label>\n// // //               <input type=\"text\" name=\"username\" value={formData.username} onChange={handleChange} required />\n// // //             </div>\n// // //             <div className=\"form-group\">\n// // //               <label>Register As</label>\n// // //               <select name=\"role\" value={formData.role} onChange={handleChange} className=\"form-select\">\n// // //                 <option value=\"customer\">Customer</option>\n// // //                 <option value=\"staff\">Staff</option>\n// // //                 <option value=\"admin\">Admin</option>\n// // //               </select>\n// // //             </div>\n// // //           </>\n// // //         )}\n// // //         <div className=\"form-group\">\n// // //           <label>Email</label>\n// // //           <input type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} required />\n// // //         </div>\n// // //         <div className=\"form-group\">\n// // //           <label>Password</label>\n// // //           <input type=\"password\" name=\"password\" value={formData.password} onChange={handleChange} required />\n// // //         </div>\n// // //         <button type=\"submit\" className=\"btn btn-primary\">\n// // //           {isLogin ? 'Login' : 'Register'}\n// // //         </button>\n// // //       </form>\n// // //       <button onClick={() => setIsLogin(!isLogin)} className=\"btn btn-link\">\n// // //         {isLogin ? 'Need to create an account? Register' : 'Already have an account? Login'}\n// // //       </button>\n// // //       {isPopupVisible && (\n// // //         <div className=\"popup-container\">\n// // //           <div className=\"popup-message\">{popupMessage}</div>\n// // //         </div>\n// // //       )}\n// // //     </div>\n// // //   );\n// // // };\n\n// // // export default Auth;\n\n// // // // client/src/components/Auth.js\n// // // import React, { useState } from 'react';\n// // // import axios from 'axios';\n// // // import { useNavigate } from 'react-router-dom';\n// // // import '../App.css';\n\n// // // const Auth = ({ setIsAuthenticated }) => {\n// // //   const [isLogin, setIsLogin] = useState(true);\n// // //   const [formData, setFormData] = useState({\n// // //     username: '',\n// // //     email: '',\n// // //     password: '',\n// // //     role: 'customer', // Default role is 'customer'\n// // //   });\n// // //   const [popupMessage, setPopupMessage] = useState('');\n// // //   const [isPopupVisible, setIsPopupVisible] = useState(false);\n// // //   const navigate = useNavigate();\n\n// // //   const handleChange = (e) => {\n// // //     setFormData({ ...formData, [e.target.name]: e.target.value });\n// // //   };\n\n// // //   const showPopup = (message) => {\n// // //     setPopupMessage(message);\n// // //     setIsPopupVisible(true);\n// // //     setTimeout(() => {\n// // //       setIsPopupVisible(false);\n// // //     }, 3000);\n// // //   };\n\n// // //   const handleSubmit = async (e) => {\n// // //     e.preventDefault();\n// // //     const url = isLogin ? 'http://localhost:5000/api/auth/login' : 'http://localhost:5000/api/auth/register';\n// // //     try {\n// // //       const response = await axios.post(url, formData);\n// // //       console.log('Success:', response.data);\n// // //       if (isLogin) {\n// // //         localStorage.setItem('token', response.data.token);\n// // //         setIsAuthenticated(true);\n// // //         showPopup('Login successful!');\n// // //         setTimeout(() => {\n// // //           navigate('/home');\n// // //         }, 1000);\n// // //       } else {\n// // //         showPopup('Registration successful! Please log in.');\n// // //         setIsLogin(true);\n// // //       }\n// // //     } catch (err) {\n// // //       console.error('Error:', err);\n// // //       if (err.response) {\n// // //         showPopup('Error: ' + (err.response.data.msg || err.response.data.error || 'Please try again.'));\n// // //       } else {\n// // //         showPopup('Error: Could not connect to the server.');\n// // //       }\n// // //     }\n// // //   };\n\n// // //   return (\n// // //     <div className=\"container card\">\n// // //       <h2 className=\"text-center\">{isLogin ? 'Login' : 'Register'}</h2>\n// // //       <form onSubmit={handleSubmit}>\n// // //         {!isLogin && (\n// // //           <>\n// // //             <div className=\"form-group\">\n// // //               <label>Username</label>\n// // //               <input type=\"text\" name=\"username\" value={formData.username} onChange={handleChange} required />\n// // //             </div>\n// // //             <div className=\"form-group\">\n// // //               <label>Register As</label>\n// // //               <select name=\"role\" value={formData.role} onChange={handleChange} className=\"form-select\">\n// // //                 <option value=\"customer\">Customer</option>\n// // //                 <option value=\"staff\">Staff</option>\n// // //               </select>\n// // //             </div>\n// // //           </>\n// // //         )}\n// // //         <div className=\"form-group\">\n// // //           <label>Email</label>\n// // //           <input type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} required />\n// // //         </div>\n// // //         <div className=\"form-group\">\n// // //           <label>Password</label>\n// // //           <input type=\"password\" name=\"password\" value={formData.password} onChange={handleChange} required />\n// // //         </div>\n// // //         <button type=\"submit\" className=\"btn btn-primary\">\n// // //           {isLogin ? 'Login' : 'Register'}\n// // //         </button>\n// // //       </form>\n// // //       <button onClick={() => setIsLogin(!isLogin)} className=\"btn btn-link\">\n// // //         {isLogin ? 'Need to create an account? Register' : 'Already have an account? Login'}\n// // //       </button>\n// // //       {isPopupVisible && (\n// // //         <div className=\"popup-container\">\n// // //           <div className=\"popup-message\">{popupMessage}</div>\n// // //         </div>\n// // //       )}\n// // //     </div>\n// // //   );\n// // // };\n\n// // // export default Auth;\n\n// // // client/src/components/Auth.js\n// // import React, { useState } from 'react';\n// // import axios from 'axios';\n// // import { useNavigate } from 'react-router-dom';\n// // import '../App.css';\n\n// // const Auth = ({ setIsAuthenticated }) => {\n// //   const [isLogin, setIsLogin] = useState(true);\n// //   const [formData, setFormData] = useState({\n// //     username: '',\n// //     email: '',\n// //     password: '',\n// //     role: 'customer', // Default role is 'customer'\n// //   });\n// //   const [popupMessage, setPopupMessage] = useState('');\n// //   const [isPopupVisible, setIsPopupVisible] = useState(false);\n// //   const navigate = useNavigate();\n\n// //   const handleChange = (e) => {\n// //     setFormData({ ...formData, [e.target.name]: e.target.value });\n// //   };\n\n// //   const showPopup = (message) => {\n// //     setPopupMessage(message);\n// //     setIsPopupVisible(true);\n// //     setTimeout(() => {\n// //       setIsPopupVisible(false);\n// //     }, 3000);\n// //   };\n\n// //   const handleSubmit = async (e) => {\n// //     e.preventDefault();\n// //     const url = isLogin ? 'http://localhost:5000/api/auth/login' : 'http://localhost:5000/api/auth/register';\n// //     try {\n// //       const response = await axios.post(url, formData);\n// //       console.log('Success:', response.data);\n// //       if (isLogin) {\n// //         localStorage.setItem('token', response.data.token);\n// //         setIsAuthenticated(true);\n// //         showPopup('Login successful!');\n// //         setTimeout(() => {\n// //           navigate('/home');\n// //         }, 1000);\n// //       } else {\n// //         showPopup('Registration successful! Please log in.');\n// //         setIsLogin(true);\n// //       }\n// //     } catch (err) {\n// //       console.error('Error:', err);\n// //       if (err.response) {\n// //         // Check for the specific admin registration error message\n// //         if (err.response.data.msg === 'An admin user already exists.') {\n// //           showPopup('You cannot register yourself as an admin. This hotel already has an admin. Thank you.');\n// //         } else {\n// //           showPopup('Error: ' + (err.response.data.msg || err.response.data.error || 'Please try again.'));\n// //         }\n// //       } else {\n// //         showPopup('Error: Could not connect to the server.');\n// //       }\n// //     }\n// //   };\n\n// //   return (\n// //     <div className=\"container card\">\n// //       <h2 className=\"text-center\">{isLogin ? 'Login' : 'Register'}</h2>\n// //       <form onSubmit={handleSubmit}>\n// //         {!isLogin && (\n// //           <>\n// //             <div className=\"form-group\">\n// //               <label>Username</label>\n// //               <input type=\"text\" name=\"username\" value={formData.username} onChange={handleChange} required />\n// //             </div>\n// //             <div className=\"form-group\">\n// //               <label>Register As</label>\n// //               <select name=\"role\" value={formData.role} onChange={handleChange} className=\"form-select\">\n// //                 <option value=\"customer\">Customer</option>\n// //                 <option value=\"staff\">Staff</option>\n// //               </select>\n// //             </div>\n// //           </>\n// //         )}\n// //         <div className=\"form-group\">\n// //           <label>Email</label>\n// //           <input type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} required />\n// //         </div>\n// //         <div className=\"form-group\">\n// //           <label>Password</label>\n// //           <input type=\"password\" name=\"password\" value={formData.password} onChange={handleChange} required />\n// //         </div>\n// //         <button type=\"submit\" className=\"btn btn-primary\">\n// //           {isLogin ? 'Login' : 'Register'}\n// //         </button>\n// //       </form>\n// //       <button onClick={() => setIsLogin(!isLogin)} className=\"btn btn-link\">\n// //         {isLogin ? 'Need to create an account? Register' : 'Already have an account? Login'}\n// //       </button>\n// //       {isPopupVisible && (\n// //         <div className=\"popup-container\">\n// //           <div className=\"popup-message\">{popupMessage}</div>\n// //         </div>\n// //       )}\n// //     </div>\n// //   );\n// // };\n\n// // export default Auth;\n\n// // client/src/components/Auth.js\n// import React, { useState } from 'react';\n// import axios from 'axios';\n// import { useNavigate } from 'react-router-dom';\n// import '../App.css';\n\n// const Auth = ({ setIsAuthenticated }) => {\n//   const [isLogin, setIsLogin] = useState(true);\n//   const [formData, setFormData] = useState({\n//     username: '',\n//     email: '',\n//     password: '',\n//     role: 'customer', // Default role is 'customer'\n//   });\n//   const [popupMessage, setPopupMessage] = useState('');\n//   const [isPopupVisible, setIsPopupVisible] = useState(false);\n//   const navigate = useNavigate();\n\n//   const handleChange = (e) => {\n//     setFormData({ ...formData, [e.target.name]: e.target.value });\n//   };\n\n//   const showPopup = (message) => {\n//     setPopupMessage(message);\n//     setIsPopupVisible(true);\n//     setTimeout(() => {\n//       setIsPopupVisible(false);\n//     }, 3000);\n//   };\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     const url = isLogin ? 'http://localhost:5000/api/auth/login' : 'http://localhost:5000/api/auth/register';\n//     try {\n//       const response = await axios.post(url, formData);\n//       console.log('Success:', response.data);\n//       if (isLogin) {\n//         localStorage.setItem('token', response.data.token);\n//         setIsAuthenticated(true);\n//         showPopup('Login successful!');\n//         setTimeout(() => {\n//           navigate('/home');\n//         }, 1000);\n//       } else {\n//         showPopup('Registration successful! Please log in.');\n//         setIsLogin(true);\n//       }\n//     } catch (err) {\n//       console.error('Error:', err);\n//       if (err.response) {\n//         // Check for the specific admin registration error message\n//         if (err.response.data.msg === 'An admin user already exists.') {\n//           showPopup('You cannot register yourself as an admin. This hotel already has an admin. Thank you.');\n//         } else {\n//           showPopup('Error: ' + (err.response.data.msg || err.response.data.error || 'Please try again.'));\n//         }\n//       } else {\n//         showPopup('Error: Could not connect to the server.');\n//       }\n//     }\n//   };\n\n//   return (\n//     <div className=\"container card\">\n//       <h2 className=\"text-center\">{isLogin ? 'Login' : 'Register'}</h2>\n//       <form onSubmit={handleSubmit}>\n//         {!isLogin && (\n//           <>\n//             <div className=\"form-group\">\n//               <label>Username</label>\n//               <input type=\"text\" name=\"username\" value={formData.username} onChange={handleChange} required />\n//             </div>\n//             <div className=\"form-group\">\n//               <label>Register As</label>\n//               <select name=\"role\" value={formData.role} onChange={handleChange} className=\"form-select\">\n//                 <option value=\"customer\">Customer</option>\n//                 <option value=\"staff\">Staff</option>\n//               </select>\n//             </div>\n//           </>\n//         )}\n//         <div className=\"form-group\">\n//           <label>Email</label>\n//           <input type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} required />\n//         </div>\n//         <div className=\"form-group\">\n//           <label>Password</label>\n//           <input type=\"password\" name=\"password\" value={formData.password} onChange={handleChange} required />\n//         </div>\n//         <button type=\"submit\" className=\"btn btn-primary\">\n//           {isLogin ? 'Login' : 'Register'}\n//         </button>\n//       </form>\n//       <button onClick={() => setIsLogin(!isLogin)} className=\"btn btn-link\">\n//         {isLogin ? 'Need to create an account? Register' : 'Already have an account? Login'}\n//       </button>\n//       {isPopupVisible && (\n//         <div className=\"popup-container\">\n//           <div className=\"popup-message\">{popupMessage}</div>\n//         </div>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default Auth;","map":{"version":3,"names":[],"sources":["D:/CSE470 Project/StayHotel/client/src/components/Auth.js"],"sourcesContent":["// // // // client/src/components/Auth.js\r\n// // // import React, { useState } from 'react';\r\n// // // import axios from 'axios';\r\n// // // import { useNavigate } from 'react-router-dom';\r\n// // // import '../App.css';\r\n\r\n// // // const Auth = ({ setIsAuthenticated }) => {\r\n// // //   const [isLogin, setIsLogin] = useState(true);\r\n// // //   const [formData, setFormData] = useState({\r\n// // //     username: '',\r\n// // //     email: '',\r\n// // //     password: '',\r\n// // //   });\r\n// // //   const [popupMessage, setPopupMessage] = useState('');\r\n// // //   const [isPopupVisible, setIsPopupVisible] = useState(false);\r\n// // //   const navigate = useNavigate();\r\n\r\n// // //   const handleChange = (e) => {\r\n// // //     setFormData({ ...formData, [e.target.name]: e.target.value });\r\n// // //   };\r\n\r\n// // //   const showPopup = (message) => {\r\n// // //     setPopupMessage(message);\r\n// // //     setIsPopupVisible(true);\r\n// // //     setTimeout(() => {\r\n// // //       setIsPopupVisible(false);\r\n// // //     }, 3000); // Popup disappears after 3 seconds\r\n// // //   };\r\n\r\n// // //   const handleSubmit = async (e) => {\r\n// // //     e.preventDefault();\r\n// // //     const url = isLogin ? 'http://localhost:5000/api/auth/login' : 'http://localhost:5000/api/auth/register';\r\n// // //     try {\r\n// // //       const response = await axios.post(url, formData);\r\n// // //       console.log('Success:', response.data);\r\n// // //       if (isLogin) {\r\n// // //         localStorage.setItem('token', response.data.token);\r\n// // //         setIsAuthenticated(true);\r\n// // //         showPopup('Login successful!');\r\n// // //         setTimeout(() => {\r\n// // //           navigate('/home');\r\n// // //         }, 1000); // Redirect after a short delay\r\n// // //       } else {\r\n// // //         showPopup('Registration successful! Please log in.');\r\n// // //         setIsLogin(true);\r\n// // //       }\r\n// // //     } catch (err) {\r\n// // //       console.error('Error:', err);\r\n// // //       // Check if the response object exists before trying to access its data\r\n// // //       if (err.response) {\r\n// // //         showPopup('Error: ' + (err.response.data.error || err.response.data.msg));\r\n// // //       } else {\r\n// // //         // If there is no response, it means the server is likely down\r\n// // //         showPopup('Error: Could not connect to the server.');\r\n// // //       }\r\n// // //     }\r\n// // //   };\r\n\r\n// // //   return (\r\n// // //     <div className=\"container card\">\r\n// // //       <h2 className=\"text-center\">{isLogin ? 'Login' : 'Register'}</h2>\r\n// // //       <form onSubmit={handleSubmit}>\r\n// // //         {!isLogin && (\r\n// // //           <div className=\"form-group\">\r\n// // //             <label>Username</label>\r\n// // //             <input type=\"text\" name=\"username\" value={formData.username} onChange={handleChange} required />\r\n// // //           </div>\r\n// // //         )}\r\n// // //         <div className=\"form-group\">\r\n// // //           <label>Email</label>\r\n// // //           <input type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} required />\r\n// // //         </div>\r\n// // //         <div className=\"form-group\">\r\n// // //           <label>Password</label>\r\n// // //           <input type=\"password\" name=\"password\" value={formData.password} onChange={handleChange} required />\r\n// // //         </div>\r\n// // //         <button type=\"submit\" className=\"btn btn-primary\">\r\n// // //           {isLogin ? 'Login' : 'Register'}\r\n// // //         </button>\r\n// // //       </form>\r\n// // //       <button onClick={() => setIsLogin(!isLogin)} className=\"btn btn-link\">\r\n// // //         {isLogin ? 'Need to create an account? Register' : 'Already have an account? Login'}\r\n// // //       </button>\r\n// // //       {isPopupVisible && (\r\n// // //         <div className=\"popup-container\">\r\n// // //           <div className=\"popup-message\">{popupMessage}</div>\r\n// // //         </div>\r\n// // //       )}\r\n// // //     </div>\r\n// // //   );\r\n// // // };\r\n\r\n// // // export default Auth;\r\n// // // \r\n// // // // client/src/components/Auth.js\r\n// // // import React, { useState } from 'react';\r\n// // // import axios from 'axios';\r\n// // // import { useNavigate } from 'react-router-dom';\r\n// // // import '../App.css';\r\n\r\n// // // const Auth = ({ setIsAuthenticated }) => {\r\n// // //   const [isLogin, setIsLogin] = useState(true);\r\n// // //   const [formData, setFormData] = useState({\r\n// // //     username: '',\r\n// // //     email: '',\r\n// // //     password: '',\r\n// // //     role: 'customer', // Default role is 'customer'\r\n// // //   });\r\n// // //   const [popupMessage, setPopupMessage] = useState('');\r\n// // //   const [isPopupVisible, setIsPopupVisible] = useState(false);\r\n// // //   const navigate = useNavigate();\r\n\r\n// // //   const handleChange = (e) => {\r\n// // //     setFormData({ ...formData, [e.target.name]: e.target.value });\r\n// // //   };\r\n\r\n// // //   const showPopup = (message) => {\r\n// // //     setPopupMessage(message);\r\n// // //     setIsPopupVisible(true);\r\n// // //     setTimeout(() => {\r\n// // //       setIsPopupVisible(false);\r\n// // //     }, 3000); // Popup disappears after 3 seconds\r\n// // //   };\r\n\r\n// // //   const handleSubmit = async (e) => {\r\n// // //     e.preventDefault();\r\n// // //     const url = isLogin ? 'http://localhost:5000/api/auth/login' : 'http://localhost:5000/api/auth/register';\r\n// // //     try {\r\n// // //       const response = await axios.post(url, formData);\r\n// // //       console.log('Success:', response.data);\r\n// // //       if (isLogin) {\r\n// // //         localStorage.setItem('token', response.data.token);\r\n// // //         setIsAuthenticated(true);\r\n// // //         showPopup('Login successful!');\r\n// // //         setTimeout(() => {\r\n// // //           navigate('/home');\r\n// // //         }, 1000); // Redirect after a short delay\r\n// // //       } else {\r\n// // //         showPopup('Registration successful! Please log in.');\r\n// // //         setIsLogin(true);\r\n// // //       }\r\n// // //     } catch (err) {\r\n// // //       console.error('Error:', err);\r\n// // //       if (err.response) {\r\n// // //         showPopup('Error: ' + (err.response.data.error || err.response.data.msg));\r\n// // //       } else {\r\n// // //         showPopup('Error: Could not connect to the server.');\r\n// // //       }\r\n// // //     }\r\n// // //   };\r\n\r\n// // //   return (\r\n// // //     <div className=\"container card\">\r\n// // //       <h2 className=\"text-center\">{isLogin ? 'Login' : 'Register'}</h2>\r\n// // //       <form onSubmit={handleSubmit}>\r\n// // //         {!isLogin && (\r\n// // //           <>\r\n// // //             <div className=\"form-group\">\r\n// // //               <label>Username</label>\r\n// // //               <input type=\"text\" name=\"username\" value={formData.username} onChange={handleChange} required />\r\n// // //             </div>\r\n// // //             <div className=\"form-group\">\r\n// // //               <label>Register As</label>\r\n// // //               <select name=\"role\" value={formData.role} onChange={handleChange} className=\"form-select\">\r\n// // //                 <option value=\"customer\">Customer</option>\r\n// // //                 <option value=\"staff\">Staff</option>\r\n// // //                 <option value=\"admin\">Admin</option>\r\n// // //               </select>\r\n// // //             </div>\r\n// // //           </>\r\n// // //         )}\r\n// // //         <div className=\"form-group\">\r\n// // //           <label>Email</label>\r\n// // //           <input type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} required />\r\n// // //         </div>\r\n// // //         <div className=\"form-group\">\r\n// // //           <label>Password</label>\r\n// // //           <input type=\"password\" name=\"password\" value={formData.password} onChange={handleChange} required />\r\n// // //         </div>\r\n// // //         <button type=\"submit\" className=\"btn btn-primary\">\r\n// // //           {isLogin ? 'Login' : 'Register'}\r\n// // //         </button>\r\n// // //       </form>\r\n// // //       <button onClick={() => setIsLogin(!isLogin)} className=\"btn btn-link\">\r\n// // //         {isLogin ? 'Need to create an account? Register' : 'Already have an account? Login'}\r\n// // //       </button>\r\n// // //       {isPopupVisible && (\r\n// // //         <div className=\"popup-container\">\r\n// // //           <div className=\"popup-message\">{popupMessage}</div>\r\n// // //         </div>\r\n// // //       )}\r\n// // //     </div>\r\n// // //   );\r\n// // // };\r\n\r\n// // // export default Auth;\r\n\r\n// // // // client/src/components/Auth.js\r\n// // // import React, { useState } from 'react';\r\n// // // import axios from 'axios';\r\n// // // import { useNavigate } from 'react-router-dom';\r\n// // // import '../App.css';\r\n\r\n// // // const Auth = ({ setIsAuthenticated }) => {\r\n// // //   const [isLogin, setIsLogin] = useState(true);\r\n// // //   const [formData, setFormData] = useState({\r\n// // //     username: '',\r\n// // //     email: '',\r\n// // //     password: '',\r\n// // //     role: 'customer', // Default role is 'customer'\r\n// // //   });\r\n// // //   const [popupMessage, setPopupMessage] = useState('');\r\n// // //   const [isPopupVisible, setIsPopupVisible] = useState(false);\r\n// // //   const navigate = useNavigate();\r\n\r\n// // //   const handleChange = (e) => {\r\n// // //     setFormData({ ...formData, [e.target.name]: e.target.value });\r\n// // //   };\r\n\r\n// // //   const showPopup = (message) => {\r\n// // //     setPopupMessage(message);\r\n// // //     setIsPopupVisible(true);\r\n// // //     setTimeout(() => {\r\n// // //       setIsPopupVisible(false);\r\n// // //     }, 3000);\r\n// // //   };\r\n\r\n// // //   const handleSubmit = async (e) => {\r\n// // //     e.preventDefault();\r\n// // //     const url = isLogin ? 'http://localhost:5000/api/auth/login' : 'http://localhost:5000/api/auth/register';\r\n// // //     try {\r\n// // //       const response = await axios.post(url, formData);\r\n// // //       console.log('Success:', response.data);\r\n// // //       if (isLogin) {\r\n// // //         localStorage.setItem('token', response.data.token);\r\n// // //         setIsAuthenticated(true);\r\n// // //         showPopup('Login successful!');\r\n// // //         setTimeout(() => {\r\n// // //           navigate('/home');\r\n// // //         }, 1000);\r\n// // //       } else {\r\n// // //         showPopup('Registration successful! Please log in.');\r\n// // //         setIsLogin(true);\r\n// // //       }\r\n// // //     } catch (err) {\r\n// // //       console.error('Error:', err);\r\n// // //       if (err.response) {\r\n// // //         showPopup('Error: ' + (err.response.data.msg || err.response.data.error || 'Please try again.'));\r\n// // //       } else {\r\n// // //         showPopup('Error: Could not connect to the server.');\r\n// // //       }\r\n// // //     }\r\n// // //   };\r\n\r\n// // //   return (\r\n// // //     <div className=\"container card\">\r\n// // //       <h2 className=\"text-center\">{isLogin ? 'Login' : 'Register'}</h2>\r\n// // //       <form onSubmit={handleSubmit}>\r\n// // //         {!isLogin && (\r\n// // //           <>\r\n// // //             <div className=\"form-group\">\r\n// // //               <label>Username</label>\r\n// // //               <input type=\"text\" name=\"username\" value={formData.username} onChange={handleChange} required />\r\n// // //             </div>\r\n// // //             <div className=\"form-group\">\r\n// // //               <label>Register As</label>\r\n// // //               <select name=\"role\" value={formData.role} onChange={handleChange} className=\"form-select\">\r\n// // //                 <option value=\"customer\">Customer</option>\r\n// // //                 <option value=\"staff\">Staff</option>\r\n// // //               </select>\r\n// // //             </div>\r\n// // //           </>\r\n// // //         )}\r\n// // //         <div className=\"form-group\">\r\n// // //           <label>Email</label>\r\n// // //           <input type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} required />\r\n// // //         </div>\r\n// // //         <div className=\"form-group\">\r\n// // //           <label>Password</label>\r\n// // //           <input type=\"password\" name=\"password\" value={formData.password} onChange={handleChange} required />\r\n// // //         </div>\r\n// // //         <button type=\"submit\" className=\"btn btn-primary\">\r\n// // //           {isLogin ? 'Login' : 'Register'}\r\n// // //         </button>\r\n// // //       </form>\r\n// // //       <button onClick={() => setIsLogin(!isLogin)} className=\"btn btn-link\">\r\n// // //         {isLogin ? 'Need to create an account? Register' : 'Already have an account? Login'}\r\n// // //       </button>\r\n// // //       {isPopupVisible && (\r\n// // //         <div className=\"popup-container\">\r\n// // //           <div className=\"popup-message\">{popupMessage}</div>\r\n// // //         </div>\r\n// // //       )}\r\n// // //     </div>\r\n// // //   );\r\n// // // };\r\n\r\n// // // export default Auth;\r\n\r\n// // // client/src/components/Auth.js\r\n// // import React, { useState } from 'react';\r\n// // import axios from 'axios';\r\n// // import { useNavigate } from 'react-router-dom';\r\n// // import '../App.css';\r\n\r\n// // const Auth = ({ setIsAuthenticated }) => {\r\n// //   const [isLogin, setIsLogin] = useState(true);\r\n// //   const [formData, setFormData] = useState({\r\n// //     username: '',\r\n// //     email: '',\r\n// //     password: '',\r\n// //     role: 'customer', // Default role is 'customer'\r\n// //   });\r\n// //   const [popupMessage, setPopupMessage] = useState('');\r\n// //   const [isPopupVisible, setIsPopupVisible] = useState(false);\r\n// //   const navigate = useNavigate();\r\n\r\n// //   const handleChange = (e) => {\r\n// //     setFormData({ ...formData, [e.target.name]: e.target.value });\r\n// //   };\r\n\r\n// //   const showPopup = (message) => {\r\n// //     setPopupMessage(message);\r\n// //     setIsPopupVisible(true);\r\n// //     setTimeout(() => {\r\n// //       setIsPopupVisible(false);\r\n// //     }, 3000);\r\n// //   };\r\n\r\n// //   const handleSubmit = async (e) => {\r\n// //     e.preventDefault();\r\n// //     const url = isLogin ? 'http://localhost:5000/api/auth/login' : 'http://localhost:5000/api/auth/register';\r\n// //     try {\r\n// //       const response = await axios.post(url, formData);\r\n// //       console.log('Success:', response.data);\r\n// //       if (isLogin) {\r\n// //         localStorage.setItem('token', response.data.token);\r\n// //         setIsAuthenticated(true);\r\n// //         showPopup('Login successful!');\r\n// //         setTimeout(() => {\r\n// //           navigate('/home');\r\n// //         }, 1000);\r\n// //       } else {\r\n// //         showPopup('Registration successful! Please log in.');\r\n// //         setIsLogin(true);\r\n// //       }\r\n// //     } catch (err) {\r\n// //       console.error('Error:', err);\r\n// //       if (err.response) {\r\n// //         // Check for the specific admin registration error message\r\n// //         if (err.response.data.msg === 'An admin user already exists.') {\r\n// //           showPopup('You cannot register yourself as an admin. This hotel already has an admin. Thank you.');\r\n// //         } else {\r\n// //           showPopup('Error: ' + (err.response.data.msg || err.response.data.error || 'Please try again.'));\r\n// //         }\r\n// //       } else {\r\n// //         showPopup('Error: Could not connect to the server.');\r\n// //       }\r\n// //     }\r\n// //   };\r\n\r\n// //   return (\r\n// //     <div className=\"container card\">\r\n// //       <h2 className=\"text-center\">{isLogin ? 'Login' : 'Register'}</h2>\r\n// //       <form onSubmit={handleSubmit}>\r\n// //         {!isLogin && (\r\n// //           <>\r\n// //             <div className=\"form-group\">\r\n// //               <label>Username</label>\r\n// //               <input type=\"text\" name=\"username\" value={formData.username} onChange={handleChange} required />\r\n// //             </div>\r\n// //             <div className=\"form-group\">\r\n// //               <label>Register As</label>\r\n// //               <select name=\"role\" value={formData.role} onChange={handleChange} className=\"form-select\">\r\n// //                 <option value=\"customer\">Customer</option>\r\n// //                 <option value=\"staff\">Staff</option>\r\n// //               </select>\r\n// //             </div>\r\n// //           </>\r\n// //         )}\r\n// //         <div className=\"form-group\">\r\n// //           <label>Email</label>\r\n// //           <input type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} required />\r\n// //         </div>\r\n// //         <div className=\"form-group\">\r\n// //           <label>Password</label>\r\n// //           <input type=\"password\" name=\"password\" value={formData.password} onChange={handleChange} required />\r\n// //         </div>\r\n// //         <button type=\"submit\" className=\"btn btn-primary\">\r\n// //           {isLogin ? 'Login' : 'Register'}\r\n// //         </button>\r\n// //       </form>\r\n// //       <button onClick={() => setIsLogin(!isLogin)} className=\"btn btn-link\">\r\n// //         {isLogin ? 'Need to create an account? Register' : 'Already have an account? Login'}\r\n// //       </button>\r\n// //       {isPopupVisible && (\r\n// //         <div className=\"popup-container\">\r\n// //           <div className=\"popup-message\">{popupMessage}</div>\r\n// //         </div>\r\n// //       )}\r\n// //     </div>\r\n// //   );\r\n// // };\r\n\r\n// // export default Auth;\r\n\r\n// // client/src/components/Auth.js\r\n// import React, { useState } from 'react';\r\n// import axios from 'axios';\r\n// import { useNavigate } from 'react-router-dom';\r\n// import '../App.css';\r\n\r\n// const Auth = ({ setIsAuthenticated }) => {\r\n//   const [isLogin, setIsLogin] = useState(true);\r\n//   const [formData, setFormData] = useState({\r\n//     username: '',\r\n//     email: '',\r\n//     password: '',\r\n//     role: 'customer', // Default role is 'customer'\r\n//   });\r\n//   const [popupMessage, setPopupMessage] = useState('');\r\n//   const [isPopupVisible, setIsPopupVisible] = useState(false);\r\n//   const navigate = useNavigate();\r\n\r\n//   const handleChange = (e) => {\r\n//     setFormData({ ...formData, [e.target.name]: e.target.value });\r\n//   };\r\n\r\n//   const showPopup = (message) => {\r\n//     setPopupMessage(message);\r\n//     setIsPopupVisible(true);\r\n//     setTimeout(() => {\r\n//       setIsPopupVisible(false);\r\n//     }, 3000);\r\n//   };\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n//     const url = isLogin ? 'http://localhost:5000/api/auth/login' : 'http://localhost:5000/api/auth/register';\r\n//     try {\r\n//       const response = await axios.post(url, formData);\r\n//       console.log('Success:', response.data);\r\n//       if (isLogin) {\r\n//         localStorage.setItem('token', response.data.token);\r\n//         setIsAuthenticated(true);\r\n//         showPopup('Login successful!');\r\n//         setTimeout(() => {\r\n//           navigate('/home');\r\n//         }, 1000);\r\n//       } else {\r\n//         showPopup('Registration successful! Please log in.');\r\n//         setIsLogin(true);\r\n//       }\r\n//     } catch (err) {\r\n//       console.error('Error:', err);\r\n//       if (err.response) {\r\n//         // Check for the specific admin registration error message\r\n//         if (err.response.data.msg === 'An admin user already exists.') {\r\n//           showPopup('You cannot register yourself as an admin. This hotel already has an admin. Thank you.');\r\n//         } else {\r\n//           showPopup('Error: ' + (err.response.data.msg || err.response.data.error || 'Please try again.'));\r\n//         }\r\n//       } else {\r\n//         showPopup('Error: Could not connect to the server.');\r\n//       }\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"container card\">\r\n//       <h2 className=\"text-center\">{isLogin ? 'Login' : 'Register'}</h2>\r\n//       <form onSubmit={handleSubmit}>\r\n//         {!isLogin && (\r\n//           <>\r\n//             <div className=\"form-group\">\r\n//               <label>Username</label>\r\n//               <input type=\"text\" name=\"username\" value={formData.username} onChange={handleChange} required />\r\n//             </div>\r\n//             <div className=\"form-group\">\r\n//               <label>Register As</label>\r\n//               <select name=\"role\" value={formData.role} onChange={handleChange} className=\"form-select\">\r\n//                 <option value=\"customer\">Customer</option>\r\n//                 <option value=\"staff\">Staff</option>\r\n//               </select>\r\n//             </div>\r\n//           </>\r\n//         )}\r\n//         <div className=\"form-group\">\r\n//           <label>Email</label>\r\n//           <input type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} required />\r\n//         </div>\r\n//         <div className=\"form-group\">\r\n//           <label>Password</label>\r\n//           <input type=\"password\" name=\"password\" value={formData.password} onChange={handleChange} required />\r\n//         </div>\r\n//         <button type=\"submit\" className=\"btn btn-primary\">\r\n//           {isLogin ? 'Login' : 'Register'}\r\n//         </button>\r\n//       </form>\r\n//       <button onClick={() => setIsLogin(!isLogin)} className=\"btn btn-link\">\r\n//         {isLogin ? 'Need to create an account? Register' : 'Already have an account? Login'}\r\n//       </button>\r\n//       {isPopupVisible && (\r\n//         <div className=\"popup-container\">\r\n//           <div className=\"popup-message\">{popupMessage}</div>\r\n//         </div>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Auth;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}